#include <iomanip>

#include "WeightedGraph.hpp"

/*

The Floyd–Warshall algorithm also known as Floyd's algorithm, the Roy–Warshall
algorithm, the Roy–Floyd algorithm, or the WFI algorithm. It is a dynamic
programming algorithm that finds the shortest paths between all pairs of
vertices in a weighted graph.

How it works:
1. Initial distance matrix with direct edges. Set diagonal elements to 0 and
   non-existing edges to infinity.
2. Try each vertex (k) as an intermediate and update if path through k is
   shorter


 Characteristics:
 * All-Pairs Shortest Path: Finds shortest paths between every pair of vertices
 * Handles Negative Weights: Can work with negative edge weights
 * Dynamic Programming: Uses a bottom-up approach
 * In-Place Algorithm: Can modify the input matrix directly
 * Detects Negative Cycles: Can identify negative cycles in the graph


 Time Complexity: O(V^3)
 - Three nested loops, each iterating V times
 - V is the number of vertices
 - Consistent performance regardless of graph density

 Space Complexity: O(V^2)
 - Requires a V×V matrix to store distances
 - Can be implemented with O(V^2) additional space


 Pros:
 * Simple implementation
 * Works with negative edge weights
 * Provides all-pairs shortest paths in a single execution
 * Can detect negative cycles
 * Works for both directed and undirected graphs
 * Good for dense graphs where |E| ≈ |V^2|

 Cons:
 * Higher time complexity (O(V^3)) compared to running Dijkstra's for sparse
   graphs
 * Requires O(V^2) space
 * Not suitable for large graphs due to cubic time complexity
 * Doesn't provide the actual paths without additional bookkeeping
 * May not be efficient for single-source shortest path problems


 When to Use
 * Dense graphs where |E| is close to |V^2|
 * Need all-pairs shortest paths
 * Graph has negative edges (but no negative cycles)
 * Graph size is relatively small (hundreds of vertices)
 * Simplicity of implementation is prioritized

 When NOT to Use
 * Large graphs (thousands of vertices)
 * Sparse graphs
 * Only need single-source shortest paths
 * Memory is constrained
 * Real-time applications requiring faster processing

*/

void WeightedGraph::floydWarshall(const std::string& startLabel) {
  int startIndex = findVertexIndex(startLabel);
  if (startIndex == -1) {
    cout << "Error! Vertex doesn't exist\n";
    return;
  }

  std::vector<std::vector<int>> dist(numVertices,
                                     std::vector<int>(numVertices));

  for (int i = 0; i < numVertices; i++) {
    for (int j = 0; j < numVertices; j++) {
      // distance to itself is 0
      if (i == j) {
        dist[i][j] = 0;
      }
      // initialize distance matrix with adjacency matrix values
      else if (adjacencyMatrix[i][j] > 0) {
        dist[i][j] = adjacencyMatrix[i][j];
      }
      // if two vertice are not adjacency, set the dist to ∞
      else {
        dist[i][j] = std::numeric_limits<int>::max();
      }
    }
  }

  // Floyd-Warshall algorithm
  for (int k = 0; k < numVertices; k++) {
    for (int i = 0; i < numVertices; i++) {
      for (int j = 0; j < numVertices; j++) {
        // skip if path is to self
        if (k == i || i == j || k == j) {
          continue;
        }

        // skip if either path is impossible
        if (dist[i][k] == std::numeric_limits<int>::max() ||
            dist[k][j] == std::numeric_limits<int>::max()) {
          continue;
        }

        // update if a shorter path is found through vertex k
        if (dist[i][k] + dist[k][j] < dist[i][j]) {
          dist[i][j] = dist[i][k] + dist[k][j];
        }
      }
    }
  }

  // print out the dist matrix
  //   cout << "   | ";
  //   for (std::size_t col = 0; col < numVertices; col++) {
  //     cout << vertexLabels[col] << " ";
  //   }
  //   cout << "\n---+";
  //   for (std::size_t count = 0; count < numVertices; count++) {
  //     cout << "--";
  //   }
  //   cout << "\n";
  //   for (std::size_t row = 0; row < numVertices; row++) {
  //     cout << std::setw(2) << vertexLabels[row] << " | ";
  //     for (std::size_t col = 0; col < numVertices; col++) {
  //       cout << dist[row][col] << " ";
  //     }
  //     cout << "\n";
  //   }
  //   cout << "\n";

  // print shortest paths from start vertex to all other vertices
  cout << "Shortest paths from vertex " << startLabel << ":\n";
  for (int i = 0; i < numVertices; i++) {
    if (dist[startIndex][i] == std::numeric_limits<int>::max()) {
      cout << " * To vertex " << vertexLabels[i] << ": -1 (unreachable)\n";
    } else {
      cout << " * To vertex " << vertexLabels[i] << ": " << dist[startIndex][i]
           << "\n";
    }
  }
  cout << "\n";
}

/*

 +-----+ 3 +-----+ 6 +-----+
 |  A  |---|  B  |---|  C  |
 +--+--+   +-----+   +-----+
    |   \           /
  5 |    \ 2     4 /
    |     \       /
 +--+--+ 1 +-----+
 |  D  |---|  E  |
 +-----+   +-----+

      | a b c d e
    --+----------
    a | 0 3 0 5 2
    b | 3 0 6 0 0
    c | 0 6 0 0 4
    d | 5 0 0 0 1
    e | 2 0 4 1 0


 create dist matrix and initialize the value

        0 1 2 3 4
     +-           -+
  0  |  0 3 ∞ 5 2  |
  1  |  3 0 6 ∞ ∞  |
  2  |  ∞ 6 0 ∞ 4  |
  3  |  5 ∞ ∞ 0 1  |
  4  |  2 ∞ 4 1 0  |
     +-           -+

 start Floyd-Warshall algorithm...

    k        i        j
 +-----+  +-----+  +-----+
 |  0  |  |  0  |  |  0  |
 +-----+  +-----+  +-----+
    ^        ^        ^

     k        i        j
 +-----+  +-----+  +-----+
 |  0  |  |  0  |  |  1  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  0  |  |  0  |  |  2  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  0  |  |  0  |  |  3  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  0  |  |  0  |  |  4  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  0  |  |  1  |  |  0  |
 +-----+  +-----+  +-----+
    ^                 ^

    k        i        j
 +-----+  +-----+  +-----+
 |  0  |  |  1  |  |  1  |
 +-----+  +-----+  +-----+
             ^        ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[1][0]  dist[0][2]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  0  |  |  1  |  |  2  |      |  3  |  |  ∞  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                            ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[1][0]  dist[0][3]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  0  |  |  1  |  |  3  |      |  3  |  |  5  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   3 + 5 = 8
                  it's less than dist[i][j] = ∞

        0 1 2 3 4
     +-           -+
  0  |  0 3 ∞ 5 2  |
  1  |  3 0 6 8 ∞  |
  2  |  ∞ 6 0 ∞ 4  |
  3  |  5 ∞ ∞ 0 1  |
  4  |  2 ∞ 4 1 0  |
     +-           -+


                             dist[i][k]  dist[k][j]
    k        i        j      dist[1][0]  dist[0][4]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  0  |  |  1  |  |  4  |      |  3  |  |  2  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   3 + 2 = 5
                  it's less than dist[i][j] = 5

        0 1 2 3 4
     +-           -+
  0  |  0 3 ∞ 5 2  |
  1  |  3 0 6 8 5  |
  2  |  ∞ 6 0 ∞ 4  |
  3  |  5 ∞ ∞ 0 1  |
  4  |  2 ∞ 4 1 0  |
     +-           -+

    k        i        j
 +-----+  +-----+  +-----+
 |  0  |  |  2  |  |  0  |
 +-----+  +-----+  +-----+
    ^                 ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[2][0]  dist[0][1]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  0  |  |  2  |  |  1  |      |  ∞  |  |  3  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   ^

    k        i        j
 +-----+  +-----+  +-----+
 |  0  |  |  2  |  |  2  |
 +-----+  +-----+  +-----+
             ^        ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[2][0]  dist[0][3]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  0  |  |  2  |  |  3  |      |  ∞  |  |  3  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[2][0]  dist[0][4]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  0  |  |  2  |  |  4  |      |  ∞  |  |  2  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   ^

    k        i        j
 +-----+  +-----+  +-----+
 |  0  |  |  3  |  |  0  |
 +-----+  +-----+  +-----+
    ^                 ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[3][0]  dist[0][1]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  0  |  |  3  |  |  1  |      |  5  |  |  3  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   5 + 3 = 8
                    it's less than dist[i][j] = 8

        0 1 2 3 4
     +-           -+
  0  |  0 3 ∞ 5 2  |
  1  |  3 0 6 8 5  |
  2  |  ∞ 6 0 ∞ 4  |
  3  |  5 8 ∞ 0 1  |
  4  |  2 ∞ 4 1 0  |
     +-           -+


                             dist[i][k]  dist[k][j]
    k        i        j      dist[3][0]  dist[0][2]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  0  |  |  3  |  |  2  |      |  5  |  |  ∞  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                            ^

    k        i        j
 +-----+  +-----+  +-----+
 |  0  |  |  3  |  |  3  |
 +-----+  +-----+  +-----+
             ^        ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[3][0]  dist[0][4]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  0  |  |  3  |  |  4  |      |  5  |  |  2  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   5 + 2 = 7
                it's NOT less than dist[i][j] = 1

        0 1 2 3 4
     +-           -+
  0  |  0 3 ∞ 5 2  |
  1  |  3 0 6 8 5  |
  2  |  ∞ 6 0 ∞ 4  |
  3  |  5 8 ∞ 0 1  |
  4  |  2 ∞ 4 1 0  |
     +-           -+

    k        i        j
 +-----+  +-----+  +-----+
 |  0  |  |  4  |  |  0  |
 +-----+  +-----+  +-----+
    ^                 ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[4][0]  dist[0][1]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  0  |  |  4  |  |  1  |      |  2  |  |  3  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   2 + 3 = 5
                    it's less than dist[i][j] = ∞

        0 1 2 3 4
     +-           -+
  0  |  0 3 ∞ 5 2  |
  1  |  3 0 6 8 5  |
  2  |  ∞ 6 0 ∞ 4  |
  3  |  5 8 ∞ 0 1  |
  4  |  2 5 4 1 0  |
     +-           -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[4][0]  dist[0][2]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  0  |  |  4  |  |  2  |      |  2  |  |  ∞  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                            ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[4][0]  dist[0][3]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  0  |  |  4  |  |  3  |      |  2  |  |  5  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   2 + 3 = 7
                it's NOT less than dist[i][j] = 1

        0 1 2 3 4
     +-           -+
  0  |  0 3 ∞ 5 2  |
  1  |  3 0 6 8 5  |
  2  |  ∞ 6 0 ∞ 4  |
  3  |  5 8 ∞ 0 1  |
  4  |  2 5 4 1 0  |
     +-           -+

    k        i        j
 +-----+  +-----+  +-----+
 |  0  |  |  4  |  |  4  |
 +-----+  +-----+  +-----+
             ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  1  |  |  0  |  |  0  |
 +-----+  +-----+  +-----+
             ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  1  |  |  0  |  |  1  |
 +-----+  +-----+  +-----+
    ^                 ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[0][1]  dist[1][2]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  1  |  |  0  |  |  2  |      |  3  |  |  6  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   3 + 6 = 9
                    it's less than dist[i][j] = ∞

        0 1 2 3 4
     +-           -+
  0  |  0 3 9 5 2  |
  1  |  3 0 6 8 5  |
  2  |  ∞ 6 0 ∞ 4  |
  3  |  5 8 ∞ 0 1  |
  4  |  2 5 4 1 0  |
     +-           -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[0][1]  dist[1][3]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  1  |  |  0  |  |  3  |      |  3  |  |  8  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   3 + 8 = 11
                it's NOT less than dist[i][j] = 5

        0 1 2 3 4
     +-           -+
  0  |  0 3 9 5 2  |
  1  |  3 0 6 8 5  |
  2  |  ∞ 6 0 ∞ 4  |
  3  |  5 8 ∞ 0 1  |
  4  |  2 5 4 1 0  |
     +-           -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[0][1]  dist[1][4]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  1  |  |  0  |  |  4  |      |  3  |  |  2  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   3 + 2 = 5
                it's NOT less than dist[i][j] = 2

        0 1 2 3 4
     +-           -+
  0  |  0 3 9 5 2  |
  1  |  3 0 6 8 5  |
  2  |  ∞ 6 0 ∞ 4  |
  3  |  5 8 ∞ 0 1  |
  4  |  2 5 4 1 0  |
     +-           -+

    k        i        j
 +-----+  +-----+  +-----+
 |  1  |  |  1  |  |  0  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  1  |  |  1  |  |  1  |
 +-----+  +-----+  +-----+
    ^        ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  1  |  |  1  |  |  2  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  1  |  |  1  |  |  3  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  1  |  |  1  |  |  4  |
 +-----+  +-----+  +-----+
    ^        ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[2][1]  dist[1][0]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  1  |  |  2  |  |  0  |      |  6  |  |  3  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   6 + 3 = 9
                    it's less than dist[i][j] = ∞

        0 1 2 3 4
     +-           -+
  0  |  0 3 9 5 2  |
  1  |  3 0 6 8 5  |
  2  |  9 6 0 ∞ 4  |
  3  |  5 8 ∞ 0 1  |
  4  |  2 5 4 1 0  |
     +-           -+

    k        i        j
 +-----+  +-----+  +-----+
 |  1  |  |  2  |  |  1  |
 +-----+  +-----+  +-----+
    ^                 ^

    k        i        j
 +-----+  +-----+  +-----+
 |  1  |  |  2  |  |  2  |
 +-----+  +-----+  +-----+
             ^        ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[2][1]  dist[1][3]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  1  |  |  2  |  |  3  |      |  6  |  |  8  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   6 + 8 = 14
                    it's less than dist[i][j] = ∞

        0 1 2  3 4
     +-            -+
  0  |  0 3 9  5 2  |
  1  |  3 0 6  8 5  |
  2  |  9 6 0 14 4  |
  3  |  5 8 ∞  0 1  |
  4  |  2 5 4  1 0  |
     +-            -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[2][1]  dist[1][4]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  1  |  |  2  |  |  4  |      |  6  |  |  5  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   6 + 8 = 11
                it's NOT less than dist[i][j] = 4

        0 1 2  3 4
     +-            -+
  0  |  0 3 9  5 2  |
  1  |  3 0 6  8 5  |
  2  |  9 6 0 14 4  |
  3  |  5 8 ∞  0 1  |
  4  |  2 5 4  1 0  |
     +-            -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[3][1]  dist[1][0]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  1  |  |  3  |  |  0  |      |  8  |  |  3  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   8 + 3 = 11
                it's NOT less than dist[i][j] = 5

        0 1 2  3 4
     +-            -+
  0  |  0 3 9  5 2  |
  1  |  3 0 6  8 5  |
  2  |  9 6 0 14 4  |
  3  |  5 8 ∞  0 1  |
  4  |  2 5 4  1 0  |
     +-            -+

    k        i        j
 +-----+  +-----+  +-----+
 |  1  |  |  3  |  |  1  |
 +-----+  +-----+  +-----+
    ^                 ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[3][1]  dist[1][2]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  1  |  |  3  |  |  2  |      |  8  |  |  6  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   8 + 6 = 14
                    it's less than dist[i][j] = ∞

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  1  |  |  3  |  |  3  |
 +-----+  +-----+  +-----+
             ^        ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[3][1]  dist[1][4]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  1  |  |  3  |  |  4  |      |  8  |  |  5  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   8 + 5 = 13
                it's NOT less than dist[i][j] = 1

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[4][1]  dist[1][0]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  1  |  |  4  |  |  0  |      |  5  |  |  3  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   5 + 3 = 8
                it's NOT less than dist[i][j] = 2

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  1  |  |  4  |  |  1  |
 +-----+  +-----+  +-----+
    ^                 ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[4][1]  dist[1][2]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  1  |  |  4  |  |  2  |      |  5  |  |  6  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   5 + 6 = 11
                it's NOT less than dist[i][j] = 4

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[4][1]  dist[1][3]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  1  |  |  4  |  |  3  |      |  5  |  |  8  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   5 + 8 = 13
                it's NOT less than dist[i][j] = 1

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  1  |  |  4  |  |  4  |
 +-----+  +-----+  +-----+
             ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  2  |  |  0  |  |  0  |
 +-----+  +-----+  +-----+
             ^        ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[0][2]  dist[2][1]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  2  |  |  0  |  |  1  |      |  9  |  |  6  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   9 + 6 = 15
                it's NOT less than dist[i][j] = 3

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  2  |  |  0  |  |  2  |
 +-----+  +-----+  +-----+
             ^        ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[0][2]  dist[2][3]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  2  |  |  0  |  |  3  |      |  9  |  |  14 |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   9 + 14 = 23
                it's NOT less than dist[i][j] = 5

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[0][2]  dist[2][4]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  2  |  |  0  |  |  4  |      |  9  |  |  4  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   9 + 4 = 13
                it's NOT less than dist[i][j] = 2

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[1][2]  dist[2][0]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  2  |  |  1  |  |  0  |      |  6  |  |  9  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   6 + 9 = 15
                it's NOT less than dist[i][j] = 3

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  2  |  |  1  |  |  2  |
 +-----+  +-----+  +-----+
    ^                 ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[1][2]  dist[2][3]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  2  |  |  1  |  |  3  |      |  6  |  |  14 |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   6 + 9 = 15
                it's NOT less than dist[i][j] = 8

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[1][2]  dist[2][4]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  2  |  |  1  |  |  4  |      |  6  |  |  4  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   6 + 4 = 10
                it's NOT less than dist[i][j] = 5

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  2  |  |  2  |  |  0  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  2  |  |  2  |  |  1  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  2  |  |  2  |  |  2  |
 +-----+  +-----+  +-----+
    ^        ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  2  |  |  2  |  |  3  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  2  |  |  2  |  |  4  |
 +-----+  +-----+  +-----+
    ^        ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[3][2]  dist[2][0]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  2  |  |  3  |  |  0  |      |  14 |  |  9  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   14 + 9 = 23
                it's NOT less than dist[i][j] = 5

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[3][2]  dist[2][1]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  2  |  |  3  |  |  1  |      |  14 |  |  6  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   14 + 6 = 20
                it's NOT less than dist[i][j] = 8

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  2  |  |  3  |  |  2  |
 +-----+  +-----+  +-----+
    ^                 ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[3][2]  dist[2][4]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  2  |  |  3  |  |  4  |      |  14 |  |  4  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   14 + 4 = 18
                it's NOT less than dist[i][j] = 1

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[4][2]  dist[2][0]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  2  |  |  4  |  |  0  |      |  4  |  |  9  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   4 + 9 = 13
                it's NOT less than dist[i][j] = 2

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[4][2]  dist[2][1]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  2  |  |  4  |  |  1  |      |  4  |  |  6  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   4 + 9 = 10
                it's NOT less than dist[i][j] = 5

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  2  |  |  4  |  |  2  |
 +-----+  +-----+  +-----+
    ^                 ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[4][2]  dist[2][3]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  2  |  |  4  |  |  3  |      |  4  |  |  14 |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   4 + 14 = 18
                it's NOT less than dist[i][j] = 1

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  2  |  |  4  |  |  4  |
 +-----+  +-----+  +-----+
             ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  3  |  |  0  |  |  0  |
 +-----+  +-----+  +-----+
             ^        ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[0][3]  dist[3][1]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  3  |  |  0  |  |  1  |      |  5  |  |  8  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   4 + 14 = 18
                it's NOT less than dist[i][j] = 3

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[0][3]  dist[3][2]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  3  |  |  0  |  |  2  |      |  5  |  |  14 |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   5 + 14 = 18
                it's NOT less than dist[i][j] = 9

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  3  |  |  0  |  |  3  |
 +-----+  +-----+  +-----+
    ^                 ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[0][3]  dist[3][4]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  3  |  |  0  |  |  4  |      |  5  |  |  1  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   5 + 1 = 6
                it's NOT less than dist[i][j] = 2

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[1][3]  dist[3][0]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  3  |  |  1  |  |  0  |      |  8  |  |  5  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   8 + 5 = 13
                it's NOT less than dist[i][j] = 3

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  3  |  |  1  |  |  1  |
 +-----+  +-----+  +-----+
             ^        ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[1][3]  dist[3][2]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  3  |  |  1  |  |  2  |      |  8  |  |  14 |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   8 + 14 = 22
                it's NOT less than dist[i][j] = 6

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  3  |  |  1  |  |  3  |
 +-----+  +-----+  +-----+
    ^                 ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[1][3]  dist[3][4]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  3  |  |  1  |  |  4  |      |  8  |  |  1  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   8 + 1 = 9
                it's NOT less than dist[i][j] = 5

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[2][3]  dist[3][0]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  3  |  |  2  |  |  0  |      |  14 |  |  5  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   14 + 5 = 19
                it's NOT less than dist[i][j] = 9

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[2][3]  dist[3][1]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  3  |  |  2  |  |  1  |      |  14 |  |  8  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   14 + 8 = 22
                it's NOT less than dist[i][j] = 6

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  3  |  |  2  |  |  2  |
 +-----+  +-----+  +-----+
             ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  3  |  |  2  |  |  3  |
 +-----+  +-----+  +-----+
    ^                 ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[2][3]  dist[3][4]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  3  |  |  2  |  |  4  |      |  14 |  |  1  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   14 + 1 = 15
                it's NOT less than dist[i][j] = 4

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  3  |  |  3  |  |  0  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  3  |  |  3  |  |  1  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  3  |  |  3  |  |  2  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  3  |  |  3  |  |  3  |
 +-----+  +-----+  +-----+
    ^        ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  3  |  |  3  |  |  4  |
 +-----+  +-----+  +-----+
    ^        ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[4][3]  dist[3][0]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  3  |  |  4  |  |  0  |      |  1  |  |  5  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   1 + 5 = 6
                it's NOT less than dist[i][j] = 2

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[4][3]  dist[3][1]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  3  |  |  4  |  |  1  |      |  1  |  |  8  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   1 + 8 = 9
                it's NOT less than dist[i][j] = 5

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[4][3]  dist[3][2]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  3  |  |  4  |  |  2  |      |  1  |  |  14 |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   1 + 14 = 15
                it's NOT less than dist[i][j] = 4

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  3  |  |  4  |  |  3  |
 +-----+  +-----+  +-----+
    ^                 ^

    k        i        j
 +-----+  +-----+  +-----+
 |  3  |  |  4  |  |  4  |
 +-----+  +-----+  +-----+
             ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  4  |  |  0  |  |  0  |
 +-----+  +-----+  +-----+
             ^        ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[0][4]  dist[4][1]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  4  |  |  0  |  |  1  |      |  2  |  |  5  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   2 + 5 = 7
                it's NOT less than dist[i][j] = 3

        0 1  2  3 4
     +-             -+
  0  |  0 3  9  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[0][4]  dist[4][2]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  4  |  |  0  |  |  2  |      |  2  |  |  4  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   2 + 4 = 6
                    it's less than dist[i][j] = 9

        0 1  2  3 4
     +-             -+
  0  |  0 3  6  5 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[0][4]  dist[4][3]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  4  |  |  0  |  |  3  |      |  2  |  |  1  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   2 + 1 = 3
                    it's less than dist[i][j] = 5

        0 1  2  3 4
     +-             -+
  0  |  0 3  6  3 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  4  |  |  0  |  |  4  |
 +-----+  +-----+  +-----+
    ^                 ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[1][4]  dist[4][0]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  4  |  |  1  |  |  0  |      |  5  |  |  2  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   5 + 2 = 7
                    it's less than dist[i][j] = 3

        0 1  2  3 4
     +-             -+
  0  |  0 3  6  3 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  4  |  |  1  |  |  1  |
 +-----+  +-----+  +-----+
             ^        ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[1][4]  dist[4][2]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  4  |  |  1  |  |  2  |      |  5  |  |  4  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   5 + 4 = 9
                    it's less than dist[i][j] = 6

        0 1  2  3 4
     +-             -+
  0  |  0 3  6  3 2  |
  1  |  3 0  6  8 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[1][4]  dist[4][3]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  4  |  |  1  |  |  3  |      |  5  |  |  1  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   5 + 1 = 6
                    it's less than dist[i][j] = 8

        0 1  2  3 4
     +-             -+
  0  |  0 3  6  3 2  |
  1  |  3 0  6  6 5  |
  2  |  9 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  4  |  |  1  |  |  4  |
 +-----+  +-----+  +-----+
    ^                 ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[2][4]  dist[4][0]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  4  |  |  2  |  |  0  |      |  4  |  |  2  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   4 + 2 = 6
                    it's less than dist[i][j] = 9

        0 1  2  3 4
     +-             -+
  0  |  0 3  6  3 2  |
  1  |  3 0  6  6 5  |
  2  |  6 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[2][4]  dist[4][1]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  4  |  |  2  |  |  1  |      |  4  |  |  5  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   4 + 5 = 9
                it's NOT less than dist[i][j] = 6

        0 1  2  3 4
     +-             -+
  0  |  0 3  6  3 2  |
  1  |  3 0  6  6 5  |
  2  |  6 6  0 14 4  |
  3  |  5 8 14  0 1  |
  4  |  2 5  4  1 0  |
     +-             -+

    k        i        j
 +-----+  +-----+  +-----+
 |  4  |  |  2  |  |  2  |
 +-----+  +-----+  +-----+
             ^        ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[2][4]  dist[4][3]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  4  |  |  2  |  |  3  |      |  4  |  |  1  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   4 + 1 = 5
                it's NOT less than dist[i][j] = 14

        0 1  2 3 4
     +-            -+
  0  |  0 3  6 3 2  |
  1  |  3 0  6 6 5  |
  2  |  6 6  0 5 4  |
  3  |  5 8 14 0 1  |
  4  |  2 5  4 1 0  |
     +-            -+

    k        i        j
 +-----+  +-----+  +-----+
 |  4  |  |  2  |  |  4  |
 +-----+  +-----+  +-----+
    ^                 ^

                             dist[i][k]  dist[k][j]
    k        i        j      dist[3][4]  dist[4][0]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  4  |  |  3  |  |  0  |      |  1  |  |  2  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   1 + 2 = 3
                    it's less than dist[i][j] = 5

        0 1  2 3 4
     +-            -+
  0  |  0 3  6 3 2  |
  1  |  3 0  6 6 5  |
  2  |  6 6  0 5 4  |
  3  |  3 8 14 0 1  |
  4  |  2 5  4 1 0  |
     +-            -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[3][4]  dist[4][1]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  4  |  |  3  |  |  1  |      |  1  |  |  5  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   1 + 5 = 6
                    it's less than dist[i][j] = 8

        0 1  2 3 4
     +-            -+
  0  |  0 3  6 3 2  |
  1  |  3 0  6 6 5  |
  2  |  6 6  0 5 4  |
  3  |  3 6 14 0 1  |
  4  |  2 5  4 1 0  |
     +-            -+

                             dist[i][k]  dist[k][j]
    k        i        j      dist[3][4]  dist[4][2]
 +-----+  +-----+  +-----+      +-----+  +-----+
 |  4  |  |  3  |  |  2  |      |  1  |  |  4  |
 +-----+  +-----+  +-----+      +-----+  +-----+
                                   1 + 4 = 5
                    it's less than dist[i][j] = 14

        0 1 2 3 4
     +-           -+
  0  |  0 3 6 3 2  |
  1  |  3 0 6 6 5  |
  2  |  6 6 0 5 4  |
  3  |  3 6 5 0 1  |
  4  |  2 5 4 1 0  |
     +-           -+

    k        i        j
 +-----+  +-----+  +-----+
 |  4  |  |  3  |  |  3  |
 +-----+  +-----+  +-----+
             ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  4  |  |  3  |  |  4  |
 +-----+  +-----+  +-----+
    ^                 ^

    k        i        j
 +-----+  +-----+  +-----+
 |  4  |  |  4  |  |  0  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  4  |  |  4  |  |  1  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  4  |  |  4  |  |  2  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  4  |  |  4  |  |  3  |
 +-----+  +-----+  +-----+
    ^        ^

    k        i        j
 +-----+  +-----+  +-----+
 |  4  |  |  4  |  |  4  |
 +-----+  +-----+  +-----+
    ^        ^        ^

 Done!
 The final dist matrix:

        0 1 2 3 4
     +-           -+
  0  |  0 3 6 3 2  |
  1  |  3 0 6 6 5  |
  2  |  6 6 0 5 4  |
  3  |  3 6 5 0 1  |
  4  |  2 5 4 1 0  |
     +-           -+

************************************************************

   | a b c d e
---+----------
 a | 0 3 6 3 2
 b | 3 0 6 6 5
 c | 6 6 0 5 4
 d | 3 6 5 0 1
 e | 2 5 4 1 0

Output:
Shortest paths from vertex a:
 * To vertex a: 0
 * To vertex b: 3
 * To vertex c: 6
 * To vertex d: 3
 * To vertex e: 2

Shortest paths from vertex b:
 * To vertex a: 3
 * To vertex b: 0
 * To vertex c: 6
 * To vertex d: 6
 * To vertex e: 5

*/